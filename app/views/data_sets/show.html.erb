<%= link_to 'Back', data_sets_path %>
<h1>Data Set</h1>
<p id="notice"><%= notice %></p>
<%= render 'full_display', :data_set => @data_set %>
<br />
<h3>Field Statistics</h3>

<div id="data_set_field_stats" >
	<% @data_set.fields.each do |field| %>
		<h3><%= field.name %></h3>
		<div id="<%= field.name %>_stats" >
			<ul>
				<li><b>Cells:</b> <%= field.cells.size %></li>
				<% unique_cell_values = field.cells.map(&:string).uniq %>
				<li><b># Unique Cells:</b> <%= unique_cell_values.size %></li>
				<li><b>Unique Values:</b> <%= unique_cell_values %></li>
			</ul>
		</div>
	<% end %>
</div>

<%= "Keys" if @data_set.keys.size > 0  %>
<% @data_set.keys.each do |key| %>
	<%= key.name %>		<br />
<% end %>

<h3>Revisions</h3>
<div id="revisions" >
	<% @revisions.each do |revision| %>
		<%= render 'full_display', :data_set => @data_set, :revision => revision %>
	<% end %>
</div>
